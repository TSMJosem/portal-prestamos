<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Préstamo - ALFIN CASH</title>
</head>
<body>
    <div class="container-fluid">
        <h2 class="mb-4">Nuevo Préstamo</h2>
        
        <div class="row">
            <div class="col-lg-12">
                <div class="card calculator-card mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Datos del Préstamo</h6>
                    </div>
                    <div class="card-body">
                        <form id="formNuevoPrestamo">
                            <!-- Sección Cliente -->
                            <div class="mb-4">
                                <h5>Información del Cliente</h5>
                                <div class="mb-3">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="tipoCliente" id="clienteExistente" value="existente" checked>
                                        <label class="form-check-label" for="clienteExistente">Cliente Existente</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="tipoCliente" id="clienteNuevo" value="nuevo">
                                        <label class="form-check-label" for="clienteNuevo">Cliente Nuevo</label>
                                    </div>
                                </div>
                                
                                <!-- Cliente Existente -->
                                <div id="seccionClienteExistente">
                                    <div class="mb-3">
                                        <label for="selectCliente" class="form-label">Seleccione un Cliente</label>
                                        <select class="form-select" id="selectCliente" name="clienteId" required>
                                            <option value="">Seleccione un cliente...</option>
                                            <!-- Se cargará dinámicamente con JavaScript -->
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Cliente Nuevo -->
                                <div id="seccionClienteNuevo" style="display: none;">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="nombreCompleto" class="form-label">Nombre Completo</label>
                                                <input type="text" class="form-control" id="nombreCompleto" name="nombreCompleto">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="tipoDocumento" class="form-label">Tipo de Documento</label>
                                                <select class="form-select" id="tipoDocumento" name="tipoDocumento">
                                                    <option value="">Seleccione...</option>
                                                    <option value="INE">INE</option>
                                                    <option value="CURP">CURP</option>
                                                    <option value="Pasaporte">Pasaporte</option>
                                                    <option value="Otro">Otro</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="numeroDocumento" class="form-label">Número de Documento</label>
                                                <input type="text" class="form-control" id="numeroDocumento" name="numeroDocumento">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="telefono" class="form-label">Teléfono</label>
                                                <input type="tel" class="form-control" id="telefono" name="telefono">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="correoElectronico" class="form-label">Correo Electrónico</label>
                                                <input type="email" class="form-control" id="correoElectronico" name="correoElectronico">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sección Préstamo -->
                            <div class="mb-4">
                                <h5>Información del Préstamo</h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="cantidadPrestamo" class="form-label">Monto del Préstamo</label>
                                            <div class="input-group">
                                                <span class="input-group-text">$</span>
                                                <input type="number" class="form-control" id="cantidadPrestamo" name="cantidadPrestamo" min="1000" step="100" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="interesMensual" class="form-label">Tasa de Interés Mensual (%)</label>
                                            <div class="input-group">
                                                <input type="number" class="form-control" id="interesMensual" name="interesMensual" min="0.1" max="50" step="0.1" required>
                                                <span class="input-group-text">%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="plazoMeses" class="form-label">Plazo (meses)</label>
                                            <input type="number" class="form-control" id="plazoMeses" name="plazoMeses" min="1" max="60" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="frecuenciaPago" class="form-label">Frecuencia de Pago</label>
                                            <select class="form-select" id="frecuenciaPago" name="frecuenciaPago" required>
                                                <option value="">Seleccione...</option>
                                                <option value="Mensual">Mensual</option>
                                                <option value="Quincenal">Quincenal</option>
                                                <option value="Semanal">Semanal</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-8 d-flex align-items-end">
                                        <div class="mb-3">
                                            <button type="button" id="btnCalcularPrestamo" class="btn btn-primary">
                                                <i class="fas fa-calculator"></i> Calcular
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Resumen del Préstamo (se muestra después de calcular) -->
                            <div id="resumenPrestamo" style="display: none;">
                                <div class="mb-4">
                                    <h5>Resumen del Préstamo</h5>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="card mb-3">
                                                <div class="card-body text-center">
                                                    <h6 class="card-title">Cuota Mensual</h6>
                                                    <h3 id="cuotaMensual">$0.00</h3>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card mb-3">
                                                <div class="card-body text-center">
                                                    <h6 class="card-title">Total a Pagar</h6>
                                                    <h3 id="totalPagar">$0.00</h3>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card mb-3">
                                                <div class="card-body text-center">
                                                    <h6 class="card-title">Total Intereses</h6>
                                                    <h3 id="totalInteres">$0.00</h3>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Tabla de Amortización -->
                                    <div class="table-responsive mt-4">
                                        <h6>Tabla de Amortización</h6>
                                        <table class="table table-striped table-sm" id="tablaAmortizacion">
                                            <thead>
                                                <tr>
                                                    <th>No.</th>
                                                    <th>Fecha</th>
                                                    <th>Cuota</th>
                                                    <th>Capital</th>
                                                    <th>Interés</th>
                                                    <th>Saldo</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <!-- Se cargará dinámicamente con JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <div class="d-flex justify-content-end mt-4">
                                        <button type="submit" class="btn btn-success">
                                            <i class="fas fa-check"></i> Crear Préstamo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>